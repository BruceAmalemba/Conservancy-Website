<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dining - Ambururu Waterfalls & Resort | Siaya, Kenya</title>
    <meta name="description" content="Indulge in gourmet Kenyan and international cuisine infused with Luo heritage at Ambururu Waterfalls Resort in Siaya, Kenya.">
    <meta name="keywords" content="Ambururu Waterfalls, Siaya, Kenya, dining, restaurant, resort, gourmet, eco-luxury, Luo heritage, farm-to-table">
    <!-- Open Graph -->
    <meta property="og:title" content="Dining at Ambururu Waterfalls & Resort">
    <meta property="og:description" content="Savor farm-fresh Kenyan flavors in Siaya’s Yala Valley.">
    <meta property="og:image" content="/images/dining-hero.webp">
    <meta property="og:url" content="https://www.ambururuwaterfalls.com/dining.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Restaurant",
        "name": "Ambururu Waterfalls & Resort Dining",
        "description": "Gourmet dining with Kenyan and international cuisine in Siaya, Kenya.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Musanda, Siaya",
            "addressRegion": "Siaya County",
            "addressCountry": "KE",
            "postalCode": "40600"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": -0.062,
            "longitude": 34.267
        },
        "servesCuisine": ["Kenyan", "International", "Luo"],
        "menu": "https://www.ambururuwaterfalls.com/dining.html#menu-highlights",
        "acceptsReservations": true,
        "telephone": "+254-721-202-551",
        "email": "reservations@ambururuwaterfalls.com",
        "image": "/images/dining-hero.webp",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": 4.9,
            "reviewCount": 450
        },
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                "opens": "08:00",
                "closes": "22:00"
            }
        ],
        "priceRange": "$$$",
        "hasMenu": {
            "@type": "Menu",
            "name": "Ambururu Dining Menu",
            "hasMenuSection": [
                {
                    "@type": "MenuSection",
                    "name": "Signature Dishes",
                    "hasMenuItem": [
                        {
                            "@type": "MenuItem",
                            "name": "Grilled Tilapia & Ugali",
                            "description": "Fresh Lake Victoria tilapia, grilled, served with ugali and kachumbari.",
                            "offers": {
                                "@type": "Offer",
                                "price": 25.00,
                                "priceCurrency": "USD"
                            },
                            "suitableForDiet": "GlutenFreeDiet"
                        },
                        {
                            "@type": "MenuItem",
                            "name": "Nyama Choma & Sukuma Wiki",
                            "description": "Grilled goat with sukuma wiki and pili pili sauce.",
                            "offers": {
                                "@type": "Offer",
                                "price": 30.00,
                                "priceCurrency": "USD"
                            }
                        }
                    ]
                }
            ]
        }
    }
    </script>
    <!-- Preload Assets -->
    <link rel="preload" href="/images/dining-hero.webp" as="image" fetchpriority="high">
    <link rel="preload" href="/videos/dining-hero.avif" as="video" fetchpriority="high">
    <link rel="preload" href="/images/11.webp" as="image">
    <link rel="preload" href="/images/13.webp" as="image">
    <link rel="preload" href="/images/34.webp" as="image">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://api.mapbox.com" crossorigin>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
    <!-- Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.8.1/mapbox-gl.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper@10/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css">
    <!-- PWA Manifest -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Ambururu Dining",
        "startUrl": "/dining.html",
        "display": "standalone",
        "themeColor": "#1a3c34",
        "backgroundColor": "#1a3c34",
        "icons": [
            {
                "src": "/logo/B2.webp",
                "sizes": "192x192",
                "type": "image/webp"
            },
            {
                "src": "/logo/B2.webp",
                "sizes": "512x512",
                "type": "image/webp"
            }
        ]
    }
    </script>
    <!-- Inline Styles -->
    <style>
        :root {
            --primary: #1a3c34; /* Jade green */
            --secondary: #f5e6cc; /* Ivory */
            --accent: #d4a017; /* Gold */
            --dark: #0a1a2e; /* Midnight blue */
            --light: #f8f1e9; /* Soft cream */
            --luo-accent: #6b2135; /* Refined Luo red */
            --shadow: rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
            --border-radius: 12px;
            --spacing: 2rem;
            --font-size-base: 1rem;
            --font-size-large: 1.25rem;
            --font-size-xl: 4rem;
        }

        [data-theme="dark"] {
            --light: #1a3c34;
            --dark: #f8f1e9;
            --secondary: #0a1a2e;
            --shadow: rgba(255, 255, 255, 0.2);
        }

        [data-contrast="high"] {
            --primary: #005b41;
            --secondary: #ffffff;
            --accent: #ffcc00;
            --dark: #000000;
            --light: #ffffff;
        }

        /* Reset */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 120px;
            font-size: 16px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--dark);
            background: var(--light);
            line-height: 1.7;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: 0.02em;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        button, input, select, textarea {
            font-family: inherit;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        /* Header */
        .sticky-header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background: linear-gradient(180deg, rgba(10, 26, 46, 0.95), rgba(10, 26, 46, 0.85));
            backdrop-filter: blur(12px);
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px var(--shadow);
            transition: transform var(--transition), background var(--transition);
        }

        .sticky-header.hidden {
            transform: translateY(-100%);
        }

        .sticky-header.scrolled {
            background: rgba(10, 26, 46, 1);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--spacing);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .brand h1 {
            font-size: 2rem;
            color: var(--accent);
        }

        .logo {
            width: 90px;
            height: 90px;
            transition: transform var(--transition);
        }

        .logo:hover {
            transform: rotate(5deg) scale(1.1);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav ul li a {
            font-size: var(--font-size-base);
            font-weight: 500;
            color: var(--secondary);
            position: relative;
            padding-bottom: 0.4rem;
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--accent);
            transition: width var(--transition);
        }

        nav ul li a:hover::after,
        nav ul li a.active::after {
            width: 100%;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(10, 26, 46, 0.98);
            border-radius: var(--border-radius);
            padding: 1rem;
            box-shadow: 0 6px 16px var(--shadow);
            min-width: 220px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity var(--transition), transform var(--transition);
        }

        .dropdown:hover .dropdown-menu,
        .dropdown:focus-within .dropdown-menu {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-menu li a {
            display: block;
            padding: 0.6rem 1.2rem;
            font-size: 0.95rem;
            color: var(--secondary);
        }

        .dropdown-menu li a:hover {
            background: var(--accent);
            color: var(--dark);
            border-radius: 6px;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--accent);
            font-size: 1.8rem;
            cursor: pointer;
        }

        .language-toggle {
            position: relative;
        }

        .language-toggle select {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--secondary);
            font-size: var(--font-size-base);
            padding: 0.6rem 2rem 0.6rem 1rem;
            cursor: pointer;
            appearance: none;
        }

        .language-toggle::after {
            content: '\f078';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: var(--accent);
            position: absolute;
            right: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }

        /* Hero */
        .hero {
            position: relative;
            height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6));
        }

        .hero-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            filter: brightness(0.7) contrast(1.1);
            transform: scale(1.02);
        }

        .hero-overlay {
            z-index: 2;
            max-width: 1100px;
            padding: 0 var(--spacing);
        }

        .hero-overlay h2 {
            font-size: var(--font-size-xl);
            color: var(--secondary);
            margin-bottom: 1.5rem;
            text-shadow: 0 3px 8px var(--shadow);
            animation: fadeInUp 1s ease-out;
        }

        .hero-overlay p {
            font-size: var(--font-size-large);
            color: var(--light);
            margin-bottom: 2.5rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            font-size: var(--font-size-base);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
        }

        .cta-button.primary {
            background: var(--accent);
            color: var(--dark);
        }

        .cta-button.secondary {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 14px rgba(212, 160, 23, 0.5);
        }

        /* Audio Control */
        .audio-control {
            position: fixed;
            top: 20px;
            right: 100px;
            z-index: 1000;
            background: rgba(10, 26, 46, 0.9);
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .audio-control:hover {
            transform: scale(1.15);
            background: var(--accent);
        }

        .audio-control i {
            color: var(--light);
            font-size: 1.4rem;
        }

        /* Virtual Assistant */
        .virtual-assistant {
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1000;
        }

        .assistant-orb {
            width: 60px;
            height: 60px;
            background: var(--accent);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(212, 160, 23, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2.5s infinite;
        }

        .assistant-orb i {
            color: var(--dark);
            font-size: 1.8rem;
        }

        .assistant-window {
            display: none;
            position: absolute;
            bottom: 80px;
            right: 0;
            background: rgba(10, 26, 46, 0.98);
            border-radius: var(--border-radius);
            width: 340px;
            max-height: 450px;
            box-shadow: 0 6px 16px var(--shadow);
            overflow: hidden;
        }

        .assistant-orb.active + .assistant-window {
            display: block;
        }

        .chat-header {
            background: var(--primary);
            color: var(--secondary);
            padding: 0.8rem 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-body {
            padding: 1.2rem;
            max-height: 350px;
            overflow-y: auto;
            background: var(--dark);
            color: var(--light);
        }

        .bot-message, .user-message {
            margin-bottom: 1rem;
            padding: 0.8rem;
            border-radius: 6px;
            font-size: 0.95rem;
        }

        .bot-message {
            background: var(--primary);
        }

        .user-message {
            background: var(--accent);
            color: var(--dark);
            text-align: right;
        }

        .chat-footer {
            display: flex;
            padding: 0.8rem;
            background: var(--dark);
            gap: 0.5rem;
        }

        .chat-footer input {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 6px;
            background: var(--light);
            color: var(--dark);
        }

        .chat-footer button {
            background: var(--accent);
            border: none;
            border-radius: 6px;
            padding: 0.8rem;
            cursor: pointer;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 15px rgba(212, 160, 23, 0.7); }
            50% { transform: scale(1.12); box-shadow: 0 0 25px rgba(212, 160, 23, 1); }
            100% { transform: scale(1); box-shadow: 0 0 15px rgba(212, 160, 23, 0.7); }
        }

        /* Teaser Button */
        .teaser-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: var(--dark);
            padding: 1rem 2rem;
            border-radius: 25px;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            z-index: 1000;
        }

        .teaser-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 14px rgba(212, 160, 23, 0.5);
        }

        .teaser-tooltip {
            display: none;
            position: absolute;
            bottom: 60px;
            right: 0;
            background: rgba(10, 26, 46, 0.98);
            color: var(--secondary);
            padding: 1rem;
            border-radius: var(--border-radius);
            width: 240px;
            text-align: center;
            box-shadow: 0 6px 16px var(--shadow);
        }

        .teaser-button:hover .teaser-tooltip,
        .teaser-button:focus .teaser-tooltip {
            display: block;
        }

        /* Live Reservation */
        .live-reservation {
            padding: 4rem var(--spacing);
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--luo-accent));
            color: var(--secondary);
            box-shadow: 0 6px 16px var(--shadow);
        }

        .live-reservation h3 {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .countdown {
            font-size: 2rem;
            font-family: 'Playfair Display', serif;
            color: var(--secondary);
            margin-bottom: 2rem;
        }

        /* Farm-to-Table */
        .taste-journey {
            padding: 6rem var(--spacing);
            background: linear-gradient(180deg, var(--dark), #12263a);
            color: var(--secondary);
            text-align: center;
        }

        .timeline {
            display: flex;
            justify-content: space-between;
            max-width: 1300px;
            margin: 3rem auto;
            position: relative;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 90px;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--accent);
            z-index: 0;
        }

        .timeline-item {
            width: 30%;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .timeline-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            transition: var(--transition);
        }

        .timeline-item:hover img {
            transform: scale(1.08);
            box-shadow: 0 6px 16px var(--shadow);
        }

        .timeline-tooltip {
            display: none;
            position: absolute;
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(10, 26, 46, 0.98);
            color: var(--secondary);
            padding: 0.8rem 1.2rem;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            width: 200px;
            text-align: center;
        }

        .timeline-item:hover .timeline-tooltip,
        .timeline-item:focus-within .timeline-tooltip {
            display: block;
        }

        /* Menu Highlights */
        .menu-highlights {
            padding: 6rem var(--spacing);
            background: linear-gradient(180deg, var(--dark), #1a3c34);
            text-align: center;
        }

        .menu-filters {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .menu-filter {
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .menu-filter.active,
        .menu-filter:hover {
            background: var(--accent);
            color: var(--dark);
            box-shadow: 0 4px 10px rgba(212, 160, 23, 0.4);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            box-shadow: 0 6px 16px var(--shadow);
            transition: transform var(--transition), box-shadow var(--transition);
        }

        .menu-item:hover,
        .menu-item:focus-within {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(212, 160, 23, 0.4);
        }

        .menu-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
        }

        .menu-item-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .ar-preview,
        .wine-pairing {
            padding: 0.8rem 1.2rem;
            border-radius: 20px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .ar-preview {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .ar-preview:hover {
            background: var(--accent);
            color: var(--dark);
        }

        .wine-pairing {
            background: var(--luo-accent);
            color: var(--light);
        }

        .wine-pairing:hover {
            background: var(--accent);
        }

        /* Menu Builder */
        .menu-builder {
            padding: 6rem var(--spacing);
            background: var(--secondary);
            text-align: center;
        }

        .builder-container {
            display: flex;
            justify-content: center;
            gap: 3rem;
            max-width: 1300px;
            margin: 3rem auto;
        }

        .builder-options {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .option-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .option-group select {
            padding: 1rem;
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            width: 240px;
            border: 1px solid var(--primary);
            background: var(--light);
            color: var(--dark);
        }

        .builder-preview {
            border: 2px solid var(--primary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            background: var(--light);
        }

        #plate-canvas {
            width: 450px;
            height: 450px;
        }

        /* Virtual Tour */
        .virtual-tour {
            padding: 6rem var(--spacing);
            background: var(--dark);
            text-align: center;
        }

        .panorama-view {
            width: 100%;
            height: 550px;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 16px var(--shadow);
        }

        /* Chef’s Special */
        .chef-special {
            padding: 6rem var(--spacing);
            background: var(--secondary);
            text-align: center;
        }

        .special-content {
            display: flex;
            align-items: center;
            justify-content: center;
            max-width: 1300px;
            margin: 0 auto;
            gap: 3rem;
        }

        .special-image {
            width: 50%;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 16px var(--shadow);
            transition: var(--transition);
        }

        .special-image:hover {
            transform: scale(1.05);
        }

        .special-text {
            width: 50%;
            text-align: left;
        }

        /* Testimonials */
        .testimonials {
            padding: 6rem var(--spacing);
            background: var(--dark);
            text-align: center;
        }

        .swiper-slide {
            background: rgba(255, 255, 255, 0.12);
            padding: 2rem;
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            box-shadow: 0 6px 16px var(--shadow);
        }

        .swiper-slide p {
            font-style: italic;
            color: var(--light);
            margin-bottom: 1.5rem;
            font-size: var(--font-size-large);
        }

        .swiper-slide .guest img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid var(--accent);
        }

        /* Loyalty Program */
        .loyalty-program {
            padding: 6rem var(--spacing);
            background: var(--light);
            text-align: center;
        }

        .loyalty-content {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            max-width: 1300px;
            margin: 3rem auto;
        }

        .loyalty-tier {
            background: var(--secondary);
            padding: 2rem;
            border-radius: var(--border-radius);
            width: 30%;
            box-shadow: 0 6px 16px var(--shadow);
            transition: var(--transition);
        }

        .loyalty-tier:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(212, 160, 23, 0.4);
        }

        .loyalty-dashboard {
            margin-top: 3rem;
            background: var(--dark);
            color: var(--secondary);
            padding: 2rem;
            border-radius: var(--border-radius);
            max-width: 700px;
            margin: 3rem auto;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: var(--primary);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--accent);
            transition: width 0.5s ease;
        }

        /* Booking Form */
        .book-table {
            padding: 6rem var(--spacing);
            background: linear-gradient(135deg, var(--primary), #2a5c4e);
            text-align: center;
        }

        #booking-form {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            padding: 2.5rem;
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 6px 16px var(--shadow);
        }

        #booking-form input,
        #booking-form select,
        #booking-form textarea {
            padding: 1rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            background: var(--light);
            color: var(--dark);
        }

        #booking-form textarea {
            grid-column: span 2;
            height: 120px;
            resize: vertical;
        }

        #booking-form button {
            background: var(--accent);
            color: var(--dark);
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: var(--font-size-base);
            font-weight: 600;
            grid-column: span 2;
            justify-self: center;
        }

        #booking-form button:hover {
            background: var(--luo-accent);
            transform: translateY(-5px);
        }

        #booking-feedback {
            margin-top: 1.5rem;
            font-size: var(--font-size-large);
            color: var(--light);
        }

        .error {
            color: #ff4d4d;
        }

        .success {
            color: var(--accent);
        }

        /* Map */
        .map {
            padding: 6rem var(--spacing);
            background: var(--dark);
            text-align: center;
        }

        #map {
            width: 100%;
            height: 550px;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 16px var(--shadow);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: var(--light);
            padding: 5rem var(--spacing);
            text-align: center;
            box-shadow: 0 -4px 12px var(--shadow);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 3rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-logo {
            width: 120px;
            margin-bottom: 1.5rem;
            transition: var(--transition);
        }

        .footer-logo:hover {
            transform: scale(1.1);
        }

        .social-links a {
            color: var(--accent);
            margin: 0 1.2rem;
            font-size: 1.8rem;
            transition: var(--transition);
        }

        .social-links a:hover {
            color: var(--luo-accent);
            transform: scale(1.3);
        }

        .footer-newsletter form {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .footer-newsletter input {
            padding: 1rem;
            border: none;
            border-radius: var(--border-radius);
            width: 350px;
            font-size: var(--font-size-base);
            background: var(--light);
            color: var(--dark);
        }

        .footer-certifications {
            margin-top: 3rem;
            display: flex;
            justify-content: center;
            gap: 3rem;
        }

        .footer-certifications img {
            width: 100px;
            transition: var(--transition);
        }

        .footer-certifications img:hover {
            transform: scale(1.15);
        }

        /* Back to Top */
        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: var(--dark);
            padding: 1rem;
            border-radius: 50%;
            font-size: 1.4rem;
            display: none;
            z-index: 1000;
        }

        #back-to-top:hover {
            transform: scale(1.15);
        }

        /* AR Modal */
        .ar-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .ar-modal.active {
            display: flex;
        }

        .ar-canvas {
            width: 90%;
            height: 80%;
            max-width: 900px;
            max-height: 650px;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 16px var(--shadow);
        }

        .ar-close {
            position: absolute;
            top: 30px;
            right: 30px;
            color: var(--accent);
            font-size: 2rem;
            cursor: pointer;
        }

        .ar-close:hover {
            color: var(--luo-accent);
        }

        /* Cookie Consent */
        .cookie-consent {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(10, 26, 46, 0.98);
            color: var(--secondary);
            padding: 1.5rem var(--spacing);
            text-align: center;
            z-index: 1000;
            display: none;
        }

        .cookie-consent.active {
            display: block;
        }

        .cookie-consent button {
            background: var(--accent);
            color: var(--dark);
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin-left: 1rem;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .menu-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }

            .special-content {
                flex-direction: column;
                gap: 2rem;
            }

            .special-image,
            .special-text {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            nav ul {
                display: none;
                flex-direction: column;
                width: 100%;
                background: rgba(10, 26, 46, 0.98);
                padding: 2rem;
                position: absolute;
                top: 100%;
                left: 0;
            }

            nav ul.active {
                display: flex;
            }

            .menu-toggle {
                display: block;
            }

            .hero-overlay h2 {
                font-size: 3rem;
            }

            .timeline {
                flex-direction: column;
                gap: 3rem;
            }

            .timeline-item {
                width: 100%;
            }

            .builder-container {
                flex-direction: column;
            }

            .loyalty-content {
                flex-direction: column;
                align-items: center;
            }

            .loyalty-tier {
                width: 90%;
            }

            .footer-grid {
                grid-template-columns: 1fr;
            }

            #booking-form {
                grid-template-columns: 1fr;
            }

            #booking-form textarea,
            #booking-form button {
                grid-column: span 1;
            }
        }

        @media (max-width: 480px) {
            .hero-overlay h2 {
                font-size: 2.5rem;
            }

            .menu-item img {
                height: 180px;
            }

            #plate-canvas {
                width: 100%;
                height: 350px;
            }

            .audio-control {
                right: 20px;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body data-theme="light" data-contrast="normal">
    <!-- Header -->
    <header class="sticky-header" role="banner" aria-label="Main header">
        <div class="header-container">
            <div class="brand">
                <img src="/logo/RL3.png" alt="Ambururu Waterfall Resort Logo" class="logo" width="90" height="90" loading="eager" onerror="this.src='https://via.placeholder.com/90?text=Logo';">
                <h1>Resort</h1>
            </div>
            <nav id="main-nav" aria-label="Main navigation">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="dropdown">
                        <a href="about.html" aria-haspopup="true">About <i class="fas fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="about.html#heritage">Luo Heritage</a></li>
                            <li><a href="about.html#founder">Our Founder</a></li>
                            <li><a href="about.html#sustainability">Sustainability</a></li>
                        </ul>
                    </li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li class="dropdown">
                        <a href="activities.html" aria-haspopup="true">Experiences <i class="fas fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="activities.html#cultural-tours">Cultural Tours</a></li>
                            <li><a href="activities.html#hiking">Yala Valley Trails</a></li>
                            <li><a href="activities.html#wellness">Wellness Retreats</a></li>
                        </ul>
                    </li>
                    <li><a href="accommodations.html">Accommodations</a></li>
                    <li><a href="dining.html" class="active" aria-current="page">Dining</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="journal.html">Journal</a></li>
                </ul>
            </nav>
            <div class="language-toggle">
                <select id="language-select" aria-label="Select language">
                    <option value="en">English</option>
                    <option value="sw">Swahili</option>
                    <option value="luo">Luo</option>
                </select>
            </div>
            <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            <button class="dark-toggle-btn" aria-label="Toggle dark mode"><i class="fas fa-moon"></i></button>
            <button class="contrast-toggle-btn" aria-label="Toggle high contrast mode"><i class="fas fa-adjust"></i></button>
        </div>
    </header>

    <!-- Cookie Consent -->
    <div class="cookie-consent" role="alert" aria-label="Cookie consent">
        <p>We use cookies to enhance your experience. <a href="privacy.html" aria-label="Learn more about our privacy policy">Learn more</a>.</p>
        <button id="accept-cookies" aria-label="Accept cookies">Accept</button>
    </div>

    <main>
        <!-- Audio Control -->
        <div class="audio-control" role="button" aria-label="Toggle ambient waterfall sound">
            <i class="fas fa-volume-up"></i>
        </div>
        <!-- Virtual Assistant -->
        <div class="virtual-assistant">
            <div class="assistant-orb" role="button" aria-label="Chat with dining assistant" aria-expanded="false">
                <i class="fas fa-concierge-bell"></i>
                <div class="assistant-window" aria-live="polite">
                    <div class="chat-header">
                        <h3 data-translate="chatbot.header">Dining Assistant</h3>
                        <button class="chat-close" aria-label="Close chat"><i class="fas fa-times"></i></button>
                        <button class="chat-voice" aria-label="Start voice input"><i class="fas fa-microphone"></i></button>
                    </div>
                    <div class="chat-body" id="chat-body">
                        <p class="bot-message" data-translate="chatbot.prompt">Welcome to Ambururu Dining! Ask about our menu, reservations, or wine pairings.</p>
                    </div>
                    <div class="chat-footer">
                        <input type="text" id="chat-input" placeholder="Ask about menu, reservations..." aria-label="Chat input" data-translate-placeholder="chatbot.input">
                        <button id="chat-send" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Teaser Button -->
        <div class="teaser-button" role="button" tabindex="0" aria-label="Discover today’s dining special">
            <span class="teaser-icon"><i class="fas fa-utensils"></i></span>
            <span class="teaser-text" data-translate="teaser.text">Today’s Special</span>
            <div class="teaser-tooltip">
                <p data-translate="teaser.tooltip">Discover our chef’s exclusive dish of the day!</p>
                <a href="#chef-special" class="tooltip-cta" data-translate="teaser.cta">Explore Now</a>
            </div>
        </div>
        <!-- Hero Section -->
        <section class="hero" role="region" aria-label="Hero section">
            <canvas id="hero-particles" class="hero-particles" aria-hidden="true"></canvas>
            <video class="hero-video" autoplay muted loop playsinline poster="/images/dining-hero.webp">
                <source src="/videos/11.mp4" type="video/avif">
                <source src="/videos/11.mp4" type="video/mp4">
            </video>
            <div class="hero-overlay">
                <h2 data-translate="hero.title">A Culinary Journey by the Falls</h2>
                <p data-translate="hero.description">Indulge in farm-fresh Kenyan flavors and global cuisine, infused with Luo heritage, in Siaya’s Yala Valley.</p>
                <div class="hero-ctas">
                    <a href="#book-table" class="cta-button primary" data-translate="hero.cta1">Reserve Your Table</a>
                    <a href="menu.html" class="cta-button secondary" data-translate="hero.cta2">Explore Menu</a>
                    <a href="menu.html" class="cta-button secondary" download data-translate="hero.cta3">Download Menu</a>
                </div>
            </div>
        </section>
        <!-- Live Reservation Countdown -->
        <section class="live-reservation" role="region" aria-label="Live reservation countdown">
            <h3 data-translate="reservation.title">Limited Spots Tonight!</h3>
            <p data-translate="reservation.description">Secure your table for an unforgettable dining experience on Wednesday, June 25, 2025, at 8:45 PM EAT.</p>
            <div class="countdown" id="countdown" aria-live="polite"></div>
            <button class="cta-button primary" id="join-waitlist" aria-label="Join waitlist" data-translate="reservation.cta">Join Waitlist</button>
            <p id="availability-status" data-translate="reservation.availability">Checking availability...</p>
        </section>
        <!-- Farm-to-Table Journey -->
        <section class="taste-journey" id="taste-journey" role="region" aria-label="Farm-to-table journey">
            <h2 data-translate="journey.title">From Farm to Table</h2>
            <p data-translate="journey.description">Discover the story behind every dish, crafted with sustainable ingredients from Siaya’s fertile lands.</p>
            <div class="timeline">
                <div class="timeline-item" data-step="1">
                    <img src="/images/farm.webp" alt="Local farmers harvesting crops in Siaya" loading="lazy" width="300" height="200" onerror="this.src='https://via.placeholder.com/300x200?text=Farm';">
                    <h3 data-translate="journey.sourcing.title">Sourcing</h3>
                    <p data-translate="journey.sourcing.description">Partnering with local farmers for fresh, organic produce.</p>
                    <div class="timeline-tooltip" data-translate="journey.sourcing.tooltip">“Ber marach, kwe madit.” – A good harvest brings great peace (Luo proverb).</div>
                </div>
                <div class="timeline-item" data-step="2">
                    <img src="/images/kitchen.webp" alt="Chefs preparing ingredients with Luo techniques" loading="lazy" width="300" height="200" onerror="this.src='https://via.placeholder.com/300x200?text=Kitchen';">
                    <h3 data-translate="journey.preparation.title">Preparation</h3>
                    <p data-translate="journey.preparation.description">Artisanal techniques meet Luo traditions in our kitchens.</p>
                    <div class="timeline-tooltip" data-translate="journey.preparation.tooltip">“Chiemo en mor.” – Food is joy (Luo proverb).</div>
                </div>
                <div class="timeline-item" data-step="3">
                    <img src="/images/11.jpg" alt="Plating a gourmet dish with elegance" loading="lazy" width="300" height="200" onerror="this.src='https://via.placeholder.com/300x200?text=Plating';">
                    <h3 data-translate="journey.plating.title">Plating</h3>
                    <p data-translate="journey.plating.description">Every dish is a work of art, ready to delight your senses.</p>
                    <div class="timeline-tooltip" data-translate="journey.plating.tooltip">“Nen marach, chuny ber.” – A beautiful sight, a joyful heart (Luo proverb).</div>
                </div>
            </div>
        </section>
        <!-- Menu Highlights -->
        <section class="menu-highlights" id="menu-highlights" role="region" aria-label="Menu highlights">
            <h2 data-translate="menu.title">Our Signature Dishes</h2>
            <p data-translate="menu.description">Savor the essence of Kenya with dishes crafted from local, sustainable ingredients.</p>
            <div class="menu-filters">
                <button class="menu-filter active" data-filter="all" data-translate="menu.filters.all">All</button>
                <button class="menu-filter" data-filter="mains" data-translate="menu.filters.mains">Mains</button>
                <button class="menu-filter" data-filter="desserts" data-translate="menu.filters.desserts">Desserts</button>
                <button class="menu-filter" data-filter="vegetarian" data-translate="menu.filters.vegetarian">Vegetarian</button>
                <button class="menu-filter" data-filter="gluten-free" data-translate="menu.filters.glutenFree">Gluten-Free</button>
            </div>
            <div class="menu-grid">
                <article class="menu-item" data-dish="grilled-tilapia" data-category="mains gluten-free" tabindex="0">
                    <img src="/images/32.jpg" alt="Grilled Tilapia with Ugali and Kachumbari at Ambururu" loading="lazy" width="320" height="200" onerror="this.src='https://via.placeholder.com/320x200?text=Grilled+Tilapia';">
                    <h3 data-translate="menu.tilapia.title">Grilled Tilapia & Ugali</h3>
                    <p data-translate="menu.tilapia.description">Freshly caught Lake Victoria tilapia, grilled to perfection, served with creamy ugali and kachumbari.</p>
                    <div class="menu-item-actions">
                        <button class="ar-preview" data-dish="grilled-tilapia" aria-label="View Grilled Tilapia in AR" data-translate="menu.ar">AR Preview</button>
                        <button class="wine-pairing" data-dish="grilled-tilapia" aria-label="Wine pairing for Grilled Tilapia" data-translate="menu.wine">Wine Pairing</button>
                    </div>
                </article>
                <article class="menu-item" data-dish="nyama-choma" data-category="mains" tabindex="0">
                    <img src="/images/13.jpg" alt="Nyama Choma with Sukuma Wiki and Pili Pili Sauce" loading="lazy" width="320" height="200" onerror="this.src='https://via.placeholder.com/320x200?text=Nyama+Choma';">
                    <h3 data-translate="menu.nyama.title">Nyama Choma & Sukuma Wiki</h3>
                    <p data-translate="menu.nyama.description">Succulent grilled goat, paired with vibrant sukuma wiki and a side of spicy pili pili sauce.</p>
                    <div class="menu-item-actions">
                        <button class="ar-preview" data-dish="nyama-choma" aria-label="View Nyama Choma in AR" data-translate="menu.ar">AR Preview</button>
                        <button class="wine-pairing" data-dish="nyama-choma" aria-label="Wine pairing for Nyama Choma" data-translate="menu.wine">Wine Pairing</button>
                    </div>
                </article>
                <article class="menu-item" data-dish="tropical-dessert" data-category="desserts gluten-free" tabindex="0">
                    <img src="/videos/panna-cotta-5176649.jpg" alt="Mango Coconut Panna Cotta with Passion Fruit Coulis" loading="lazy" width="320" height="200" onerror="this.src='https://via.placeholder.com/320x200?text=Mango+Panna+Cotta';">
                    <h3 data-translate="menu.panna.title">Mango Coconut Panna Cotta</h3>
                    <p data-translate="menu.panna.description">A silky dessert infused with local mangoes and creamy coconut, topped with passion fruit coulis.</p>
                    <div class="menu-item-actions">
                        <button class="ar-preview" data-dish="tropical-dessert" aria-label="View Mango Panna Cotta in AR" data-translate="menu.ar">AR Preview</button>
                        <button class="wine-pairing" data-dish="tropical-dessert" aria-label="Wine pairing for Mango Panna Cotta" data-translate="menu.wine">Wine Pairing</button>
                    </div>
                </article>
                <article class="menu-item" data-dish="vegetable-stew" data-category="vegetarian gluten-free" tabindex="0">
                    <img src="/videos/soup-3091751.jpg" alt="Kenyan Vegetable Stew with Chapati" loading="lazy" width="320" height="200" onerror="this.src='https://via.placeholder.com/320x200?text=Vegetable+Stew';">
                    <h3 data-translate="menu.stew.title">Kenyan Vegetable Stew</h3>
                    <p data-translate="menu.stew.description">A hearty blend of seasonal vegetables in a savory broth, served with warm chapati.</p>
                    <div class="menu-item-actions">
                        <button class="ar-preview" data-dish="vegetable-stew" aria-label="View Kenyan Vegetable Stew in AR" data-translate="menu.ar">AR Preview</button>
                        <button class="wine-pairing" data-dish="vegetable-stew" aria-label="Wine pairing for Kenyan Vegetable Stew" data-translate="menu.wine">Wine Pairing</button>
                    </div>
                </article>
                <article class="menu-item" data-dish="passion-sorbet" data-category="desserts gluten-free" tabindex="0">
                    <img src="/images/sorbet.webp" alt="Passion Fruit Sorbet with Mint Garnish" loading="lazy" width="320" height="200" onerror="this.src='https://via.placeholder.com/320x200?text=Passion+Sorbet';">
                    <h3 data-translate="menu.sorbet.title">Passion Fruit Sorbet</h3>
                    <p data-translate="menu.sorbet.description">Refreshing sorbet made with local passion fruit, garnished with fresh mint.</p>
                    <div class="menu-item-actions">
                        <button class="ar-preview" data-dish="passion-sorbet" aria-label="View Passion Fruit Sorbet in AR" data-translate="menu.ar">AR Preview</button>
                        <button class="wine-pairing" data-dish="passion-sorbet" aria-label="Wine pairing for Passion Fruit Sorbet" data-translate="menu.wine">Wine Pairing</button>
                    </div>
                </article>
            </div>
        </section>
        <!-- Menu Builder -->
        <section class="menu-builder" id="menu-builder" role="region" aria-label="Interactive menu builder">
            <h2 data-translate="builder.title">Create Your Perfect Meal</h2>
            <p data-translate="builder.description">Design your dining experience with our interactive 3D meal builder.</p>
            <div class="builder-container">
                <div class="builder-options">
                    <div class="option-group">
                        <label for="main-dish" data-translate="builder.main.label">Main Dish</label>
                        <select id="main-dish" aria-label="Select main dish">
                            <option value="" data-translate="builder.main.placeholder">Select Main Dish</option>
                            <option value="tilapia">Grilled Tilapia</option>
                            <option value="nyama-choma">Nyama Choma</option>
                            <option value="vegetable-stew">Vegetable Stew</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label for="side-dish" data-translate="builder.side.label">Side Dish</label>
                        <select id="side-dish" aria-label="Select side dish">
                            <option value="" data-translate="builder.side.placeholder">Select Side Dish</option>
                            <option value="ugali">Ugali</option>
                            <option value="sukuma">Sukuma Wiki</option>
                            <option value="chapati">Chapati</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label for="dessert" data-translate="builder.dessert.label">Dessert</label>
                        <select id="dessert" aria-label="Select dessert">
                            <option value="" data-translate="builder.dessert.placeholder">Select Dessert</option>
                            <option value="panna-cotta">Mango Coconut Panna Cotta</option>
                            <option value="sorbet">Passion Fruit Sorbet</option>
                        </select>
                    </div>
                </div>
                <div class="builder-preview">
                    <canvas id="plate-canvas" width="450" height="450" aria-label="3D meal preview"></canvas>
                </div>
            </div>
            <button id="build-meal" class="cta-button primary" aria-label="Preview your meal" data-translate="builder.cta">Preview Meal</button>
        </section>
        <!-- Virtual Tour -->
        <section class="virtual-tour" id="virtual-tour" role="region" aria-label="Virtual dining tour">
            <h2 data-translate="tour.title">Explore Our Dining Space</h2>
            <p data-translate="tour.description">Take a 360° tour of our open-air restaurant by the falls.</p>
            <div id="panorama" class="panorama-view" role="application" aria-label="360-degree virtual tour"></div>
            <button id="audio-narration" class="cta-button secondary" aria-label="Toggle cultural narration" data-translate="tour.narration">Cultural Narration</button>
        </section>
        <!-- Chef’s Special -->
        <section class="chef-special" id="chef-special" role="region" aria-label="Chef’s special">
            <h2 data-translate="special.title">Chef’s Special – Limited Time!</h2>
            <div class="special-content">
                <img src="/images/prawn-curry.webp" alt="Kenyan Coastal Prawn Curry with Basmati Rice" loading="lazy" class="special-image" width="650" height="450" onerror="this.src='https://via.placeholder.com/650x450?text=Chef+Special';">
                <div class="special-text">
                    <h3 data-translate="special.dish.title">Kenyan Coastal Prawn Curry</h3>
                    <p data-translate="special.dish.description">Indulge in our chef’s signature dish—succulent prawns in a rich coconut curry, served with fragrant basmati rice. Available only on June 25, 2025!</p>
                    <a href="#book-table" class="cta-button primary" data-translate="special.cta">Taste It Now</a>
                </div>
            </div>
        </section>
        <!-- Testimonials -->
        <section class="testimonials" role="region" aria-label="Guest testimonials">
            <h2 data-translate="testimonials.title">Dining Experiences</h2>
            <div class="swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <p data-translate="testimonials.jane">“The tilapia was fresh and flavorful, a true taste of Lake Victoria!”</p>
                        <div class="guest">
                            <img src="/images/guest1.webp" alt="Jane M." loading="lazy" width="60" height="60" onerror="this.src='https://via.placeholder.com/60?text=Guest';">
                            <span>Jane M., Nairobi, 2025</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <p data-translate="testimonials.david">“Nyama Choma was the highlight of our evening, paired with stunning views.”</p>
                        <div class="guest">
                            <img src="/images/guest2.webp" alt="David K." loading="lazy" width="60" height="60" onerror="this.src='https://via.placeholder.com/60?text=Guest';">
                            <span>David K., Kisumu, 2025</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <p data-translate="testimonials.sarah">“The panna cotta was a must-try, so creamy and tropical!”</p>
                        <div class="guest">
                            <img src="/images/guest3.webp" alt="Sarah L." loading="lazy" width="60" height="60" onerror="this.src='https://via.placeholder.com/60?text=Guest';">
                            <span>Sarah L., Ethiopia, 2024</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <p data-translate="testimonials.michael">“The vegetable stew was a delightful surprise, bursting with flavor!”</p>
                        <div class="guest">
                            <img src="/images/guest4.webp" alt="Michael T." loading="lazy" width="60" height="60" onerror="this.src='https://via.placeholder.com/60?text=Guest';">
                            <span>Michael T., Mombasa, 2025</span>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <p data-translate="testimonials.emma">“The sorbet was the perfect end to a perfect meal!”</p>
                        <div class="guest">
                            <img src="/images/guest5.webp" alt="Emma W." loading="lazy" width="60" height="60" onerror="this.src='https://via.placeholder.com/60?text=Guest';">
                            <span>Emma W., Eldoret, 2025</span>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </section>
        <!-- Loyalty Program -->
        <section class="loyalty-program" id="loyalty-program" role="region" aria-label="Loyalty program">
            <h2 data-translate="loyalty.title">Join Our Culinary Circle</h2>
            <p data-translate="loyalty.description">Earn points with every dining experience and unlock exclusive rewards.</p>
            <div class="loyalty-content">
                <div class="loyalty-tier">
                    <h3 data-translate="loyalty.bronze.title">Bronze Tier</h3>
                    <p data-translate="loyalty.bronze.description">Earn 1 point per $10 spent. Redeem for discounts.</p>
                </div>
                <div class="loyalty-tier">
                    <h3 data-translate="loyalty.silver.title">Silver Tier</h3>
                    <p data-translate="loyalty.silver.description">Earn 1.5 points per $10 spent. Free dessert after 50 points.</p>
                </div>
                <div class="loyalty-tier">
                    <h3 data-translate="loyalty.gold.title">Gold Tier</h3>
                    <p data-translate="loyalty.gold.description">Earn 2 points per $10 spent. Complimentary wine pairing at 100 points.</p>
                </div>
            </div>
            <div class="loyalty-dashboard" id="loyalty-dashboard">
                <h3 data-translate="loyalty.dashboard.title">Your Loyalty Status</h3>
                <p>Points: <span id="loyalty-points">0</span></p>
                <p>Tier: <span id="loyalty-tier">Bronze</span></p>
                <div class="progress-bar">
                    <div class="progress-bar-fill" style="width: 0%"></div>
                </div>
                <button class="cta-button primary" id="redeem-rewards" aria-label="Redeem rewards" data-translate="loyalty.cta">Redeem Rewards</button>
            </div>
        </section>
        <!-- Booking Form -->
        <section class="book-table" id="book-table" role="region" aria-label="Table reservation">
            <h2 data-translate="booking.title">Reserve Your Culinary Escape</h2>
            <p data-translate="booking.description">Book your table today for an unforgettable dining experience by Ambururu Waterfalls.</p>
            <form id="booking-form" action="https://api.ambururuwaterfalls.com/reservations" method="POST" novalidate>
                <input type="text" name="name" placeholder="Your Name" required aria-label="Full name" data-translate-placeholder="booking.name">
                <input type="email" name="email" placeholder="Email Address" required aria-label="Email address" data-translate-placeholder="booking.email">
                <input type="date" name="date" id="reservation-date" required aria-label="Preferred reservation date" min="2025-06-25" data-translate-placeholder="booking.date">
                <input type="time" name="time" id="reservation-time" required aria-label="Preferred reservation time" min="08:00" max="22:00" data-translate-placeholder="booking.time">
                <select name="guests" id="guests" required aria-label="Number of guests">
                    <option value="" data-translate="booking.guests.placeholder">Number of Guests</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5+">5+</option>
                </select>
                <textarea name="special-requests" placeholder="Special Requests (e.g., dietary needs)" aria-label="Special requests" data-translate-placeholder="booking.requests"></textarea>
                <button type="submit" class="cta-button primary" data-translate="booking.cta">Book Now</button>
            </form>
            <div id="booking-feedback" role="alert"></div>
        </section>
        <!-- Map Section -->
        <section class="map" role="region" aria-label="Map section">
            <h2 data-translate="map.title">Our Dining Haven</h2>
            <div id="map" role="application" aria-label="Map of Ambururu Waterfalls"></div>
            <p class="map-description" data-translate="map.description">Located in Musanda, Siaya, Kenya. Coordinates: -0.062, 34.267. <a href="https://www.google.com/maps/dir/?api=1&destination=-0.062,34.267" target="_blank" rel="noopener" aria-label="Get directions to Ambururu" data-translate="map.cta">Get Directions</a></p>
        </section>
    </main>

    <!-- Footer -->
    <footer role="contentinfo" aria-label="Footer">
        <div class="footer-container">
            <img src="/logo/RL3.png" alt="Ambururu Waterfalls & Resort Footer Logo" class="footer-logo" width="120" height="120" loading="lazy" onerror="this.src='https://via.placeholder.com/120?text=Logo';">
            <div class="footer-grid">
                <div class="footer-about">
                    <h3 data-translate="footer.about.title">About Us</h3>
                    <p data-translate="footer.about.description">Ambururu Waterfalls & Resort is a beacon of eco-luxury, celebrating Luo heritage in Siaya, Kenya.</p>
                </div>
                <div class="footer-links">
                    <h3 data-translate="footer.links.title">Explore</h3>
                    <ul>
                        <li><a href="about.html" data-translate="footer.links.about">About</a></li>
                        <li><a href="contact.html" data-translate="footer.links.contact">Contact</a></li>
                        <li><a href="sustainability.html" data-translate="footer.links.sustainability">Sustainability</a></li>
                        <li><a href="privacy.html" data-translate="footer.links.privacy">Privacy</a></li>
                        <li><a href="terms.html" data-translate="footer.links.terms">Terms</a></li>
                    </ul>
                </div>
                <div class="footer-newsletter">
                    <h3 data-translate="footer.newsletter.title">Stay Connected</h3>
                    <form id="newsletter-form" action="https://api.ambururuwaterfalls.com/newsletter" method="POST">
                        <input type="email" name="email" placeholder="Your Email" required aria-label="Email address for newsletter" data-translate-placeholder="footer.newsletter.email">
                        <button type="submit" class="cta-button primary" data-translate="footer.newsletter.cta">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="social-links" role="navigation" aria-label="Social media links">
                <a href="https://www.facebook.com/ambururu" target="_blank" rel="noopener" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="https://x.com/Ambururu_" target="_blank" rel="noopener" aria-label="Twitter"><i class="fab fa-x-twitter"></i></a>
                <a href="https://www.instagram.com/ambururu1/" target="_blank" rel="noopener" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            </div>
            <div class="footer-certifications">
                <img src="/logo/EW.jpeg" alt="Eco-Warrior Award" loading="lazy" width="100" height="50" onerror="this.src='https://via.placeholder.com/100x50?text=Certification';">
                <img src="/logo/GE.jpeg" alt="Green Globe Certified" loading="lazy" width="100" height="50" onerror="this.src='https://via.placeholder.com/100x50?text=Certification';">
            </div>
            <p class="footer-copy" data-translate="footer.copy">© 2025 Ambururu Waterfalls Conservancy All rights reserved.</p>
        </div>
    </footer>

    <!-- Back to Top -->
    <a href="#" id="back-to-top" aria-label="Back to top"><i class="fas fa-arrow-up"></i></a>

    <!-- AR Modal -->
    <div id="ar-modal" class="ar-modal" role="dialog" aria-label="AR dish preview">
        <div id="ar-container" class="ar-canvas"></div>
        <button class="ar-close" aria-label="Close AR preview"><i class="fas fa-times"></i></button>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.8.1/mapbox-gl.js"></script>
    <script src="https://unpkg.com/swiper@10/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js" integrity="sha512-2cC4oJeo3pBvaBY9+1bg6eK4Z4AExhY8Z2p3ejuS81S3Pf2rHyBjj7ZaIWuMda63E2e24jO9TUBTkyuBW0S9uLw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@threejs-editor/gltf-loader@1.0.0/GLTFLoader.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/pannellum.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://cdn.speechly.com/web/speechly.js"></script>
<script>
    // Translations Object
    const translations = {
        en: {
            "hero.title": "A Culinary Journey by the Falls",
            "hero.description": "Indulge in farm-fresh Kenyan and international cuisine infused with Luo heritage in Siaya’s Yala Valley.",
            "hero.cta1": "Reserve Your Table",
            "hero.cta2": "Explore Menu",
            "hero.cta3": "Download Menu",
            "reservation.title": "Limited Spots Tonight!",
            "reservation.description": "Secure your table for an unforgettable dining experience on Wednesday, June 25, 2025, at 8:45 PM EAT.",
            "reservation.cta": "Join Waitlist",
            "reservation.availability": "Checking availability...",
            "journey.title": "From Farm to Table",
            "journey.description": "Discover the story behind every dish, crafted with sustainable ingredients from Siaya’s fertile lands.",
            "journey.sourcing.title": "Sourcing",
            "journey.sourcing.description": "Partnering with local farmers for fresh, organic produce.",
            "journey.sourcing.tooltip": "“Ber marach, kwe madit.” – A good harvest brings great peace (Luo proverb).",
            "journey.preparation.title": "Preparation",
            "journey.preparation.description": "Artisanal techniques meet Luo traditions in our kitchens.",
            "journey.preparation.tooltip": "“Chiemo en mor.” – Food is joy (Luo proverb).",
            "journey.plating.title": "Plating",
            "journey.plating.description": "Every dish is a work of art, ready to delight your senses.",
            "journey.plating.tooltip": "“Nen marach, chuny ber.” – A beautiful sight, a joyful heart (Luo proverb).",
            "menu.title": "Our Signature Dishes",
            "menu.description": "Savor the essence of Kenya with dishes crafted from local, sustainable ingredients.",
            "menu.filters.all": "All",
            "menu.filters.mains": "Mains",
            "menu.filters.desserts": "Desserts",
            "menu.filters.vegetarian": "Vegetarian",
            "menu.filters.glutenFree": "Gluten-Free",
            "menu.ar": "AR Preview",
            "menu.wine": "Wine Pairing",
            "menu.tilapia.title": "Grilled Tilapia & Ugali",
            "menu.tilapia.description": "Freshly caught Lake Victoria tilapia, grilled to perfection, served with creamy ugali and kachumbari.",
            "menu.nyama.title": "Nyama Choma & Sukuma Wiki",
            "menu.nyama.description": "Succulent grilled goat, paired with vibrant sukuma wiki and a side of spicy pili pili sauce.",
            "menu.panna.title": "Mango Coconut Panna Cotta",
            "menu.panna.description": "A silky dessert infused with local mangoes and creamy coconut, topped with passion fruit coulis.",
            "menu.stew.title": "Kenyan Vegetable Stew",
            "menu.stew.description": "A hearty blend of seasonal vegetables in a savory broth, served with warm chapati.",
            "menu.sorbet.title": "Passion Fruit Sorbet",
            "menu.sorbet.description": "Refreshing sorbet made with local passion fruit, garnished with fresh mint.",
            "builder.title": "Create Your Perfect Meal",
            "builder.description": "Design your dining experience with our interactive 3D meal builder.",
            "builder.main.label": "Main Dish",
            "builder.main.placeholder": "Select Main Dish",
            "builder.side.label": "Side Dish",
            "builder.side.placeholder": "Select Side Dish",
            "builder.dessert.label": "Dessert",
            "builder.dessert.placeholder": "Select Dessert",
            "builder.cta": "Preview Meal",
            "tour.title": "Explore Our Dining Space",
            "tour.description": "Take a 360° tour of our open-air restaurant by the falls.",
            "tour.narration": "Cultural Narration",
            "special.title": "Chef’s Special – Limited Time!",
            "special.dish.title": "Kenyan Coastal Prawn Curry",
            "special.dish.description": "Indulge in our chef’s signature dish—succulent prawns in a rich coconut curry, served with fragrant basmati rice. Available only on June 25, 2025!",
            "special.cta": "Taste It Now",
            "testimonials.title": "Dining Experiences",
            "testimonials.jane": "“The tilapia was fresh and flavorful, a true taste of Lake Victoria!”",
            "testimonials.david": "“Nyama Choma was the highlight of our evening, paired with stunning views.”",
            "testimonials.sarah": "“The panna cotta was a must-try, so creamy and tropical!”",
            "testimonials.michael": "“The vegetable stew was a delightful surprise, bursting with flavor!”",
            "testimonials.emma": "“The sorbet was the perfect end to a perfect meal!”",
            "loyalty.title": "Join Our Culinary Circle",
            "loyalty.description": "Earn points with every dining experience and unlock exclusive rewards.",
            "loyalty.bronze.title": "Bronze Tier",
            "loyalty.bronze.description": "Earn 1 point per $10 spent. Redeem for discounts.",
            "loyalty.silver.title": "Silver Tier",
            "loyalty.silver.description": "Earn 1.5 points per $10 spent. Free dessert after 50 points.",
            "loyalty.gold.title": "Gold Tier",
            "loyalty.gold.description": "Earn 2 points per $10 spent. Complimentary wine pairing at 100 points.",
            "loyalty.dashboard.title": "Your Loyalty Status",
            "loyalty.cta": "Redeem Rewards",
            "booking.title": "Reserve Your Culinary Escape",
            "booking.description": "Book your table today for an unforgettable dining experience by Ambururu Waterfalls.",
            "booking.name": "Your Name",
            "booking.email": "Email Address",
            "booking.date": "Preferred Date",
            "booking.time": "Preferred Time",
            "booking.guests.placeholder": "Number of Guests",
            "booking.requests": "Special Requests (e.g., dietary needs)",
            "booking.cta": "Book Now",
            "map.title": "Our Dining Haven",
            "map.description": "Located in Musanda, Siaya, Kenya. Coordinates: -0.062, 34.267.",
            "map.cta": "Get Directions",
            "footer.about.title": "About Us",
            "footer.about.description": "Ambururu Waterfalls & Resort is a beacon of eco-luxury, celebrating Luo heritage in Siaya, Kenya.",
            "footer.links.title": "Explore",
            "footer.links.about": "About",
            "footer.links.contact": "Contact",
            "footer.links.sustainability": "Sustainability",
            "footer.links.privacy": "Privacy",
            "footer.links.terms": "Terms",
            "footer.newsletter.title": "Stay Connected",
            "footer.newsletter.email": "Your Email",
            "footer.newsletter.cta": "Subscribe",
            "footer.copy": "© 2025 Ambururu Waterfalls & Resort. All rights reserved.",
            "chatbot.header": "Dining Assistant",
            "chatbot.prompt": "Welcome to Ambururu Dining! Ask about our menu, reservations, or wine pairings.",
            "chatbot.input": "Ask about menu, reservations...",
            "teaser.text": "Today’s Special",
            "teaser.tooltip": "Discover our chef’s exclusive dish of the day!",
            "teaser.cta": "Explore Now"
        },
        sw: {
            // Swahili translations (abridged for brevity)
            "hero.title": "Safari ya Chakula karibu na Maporomoko",
            "hero.description": "Furahia ladha safi za Kenya na vyakula vya kimataifa vilivyo na urithi wa Waluo katika Bonde la Yala, Siaya.",
            // Add other translations as needed
        },
        luo: {
            // Luo translations (abridged for brevity)
            "hero.title": "Ber marach e Chiemo kaachiel gi Maporomoko",
            "hero.description": "Miyore gi chiemo marach mar Kenya gi marach marach, machwe gi timbe Luo e Yala Valley, Siaya.",
            // Add other translations as needed
        }
    };

    // Language Toggle
    function setLanguage(lang) {
        document.querySelectorAll('[data-translate]').forEach(el => {
            const key = el.getAttribute('data-translate');
            if (translations[lang][key]) {
                el.textContent = translations[lang][key];
            }
        });
        document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
            const key = el.getAttribute('data-translate-placeholder');
            if (translations[lang][key]) {
                el.placeholder = translations[lang][key];
            }
        });
        localStorage.setItem('language', lang);
        document.documentElement.lang = lang;
    }

    document.getElementById('language-select').addEventListener('change', (e) => {
        setLanguage(e.target.value);
    });

    // Initialize language
    const savedLang = localStorage.getItem('language') || 'en';
    document.getElementById('language-select').value = savedLang;
    setLanguage(savedLang);

    // Theme Toggle
    document.querySelector('.dark-toggle-btn').addEventListener('click', () => {
        const currentTheme = document.body.getAttribute('data-theme');
        document.body.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
        localStorage.setItem('theme', document.body.getAttribute('data-theme'));
    });

    // High Contrast Toggle
    document.querySelector('.contrast-toggle-btn').addEventListener('click', () => {
        const currentContrast = document.body.getAttribute('data-contrast');
        document.body.setAttribute('data-contrast', currentContrast === 'normal' ? 'high' : 'normal');
        localStorage.setItem('contrast', document.body.getAttribute('data-contrast'));
    });

    // Load saved theme and contrast
    const savedTheme = localStorage.getItem('theme') || 'light';
    const savedContrast = localStorage.getItem('contrast') || 'normal';
    document.body.setAttribute('data-theme', savedTheme);
    document.body.setAttribute('data-contrast', savedContrast);

    // Cookie Consent
    if (!localStorage.getItem('cookies-accepted')) {
        document.querySelector('.cookie-consent').classList.add('active');
    }
    document.getElementById('accept-cookies').addEventListener('click', () => {
        localStorage.setItem('cookies-accepted', 'true');
        document.querySelector('.cookie-consent').classList.remove('active');
    });

    // Menu Toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('#main-nav ul');
    menuToggle.addEventListener('click', () => {
        const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
        menuToggle.setAttribute('aria-expanded', !isExpanded);
        nav.classList.toggle('active');
        menuToggle.querySelector('i').classList.toggle('fa-bars');
        menuToggle.querySelector('i').classList.toggle('fa-times');
    });

    // Header Scroll Behavior
    let lastScroll = 0;
    window.addEventListener('scroll', () => {
        const header = document.querySelector('.sticky-header');
        const currentScroll = window.pageYOffset;
        if (currentScroll > lastScroll && currentScroll > 100) {
            header.classList.add('hidden');
        } else {
            header.classList.remove('hidden');
        }
        if (currentScroll > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
        lastScroll = currentScroll;
        document.getElementById('back-to-top').style.display = currentScroll > 500 ? 'block' : 'none';
    });

    // Hero Particles
    particlesJS('hero-particles', {
        particles: {
            number: { value: 50, density: { enable: true, value_area: 800 } },
            color: { value: '#d4a017' },
            shape: { type: 'circle' },
            opacity: { value: 0.5, random: true },
            size: { value: 3, random: true },
            line_linked: { enable: false },
            move: { enable: true, speed: 2, direction: 'none', random: true }
        },
        interactivity: {
            detect_on: 'canvas',
            events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
            modes: { repulse: { distance: 100 }, push: { particles_nb: 4 } }
        },
        retina_detect: true
    });

    // Audio Control
    const audioControl = document.querySelector('.audio-control');
    const ambientAudio = new Audio('/syn/the-best-jazz-club-in-new-orleans-164472.mp3');
    ambientAudio.loop = true;
    let isAudioPlaying = false;
    audioControl.addEventListener('click', () => {
        if (isAudioPlaying) {
            ambientAudio.pause();
            audioControl.querySelector('i').classList.remove('fa-volume-up');
            audioControl.querySelector('i').classList.add('fa-volume-mute');
            isAudioPlaying = false;
        } else {
            ambientAudio.play().catch(() => console.warn('Audio playback failed.'));
            audioControl.querySelector('i').classList.remove('fa-volume-mute');
            audioControl.querySelector('i').classList.add('fa-volume-up');
            isAudioPlaying = true;
        }
    });

    // Virtual Assistant
    const assistantOrb = document.querySelector('.assistant-orb');
    const chatBody = document.getElementById('chat-body');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');
    const chatClose = document.querySelector('.chat-close');
    const chatVoice = document.querySelector('.chat-voice');

    assistantOrb.addEventListener('click', () => {
        assistantOrb.classList.toggle('active');
        assistantOrb.setAttribute('aria-expanded', assistantOrb.classList.contains('active'));
    });

    chatClose.addEventListener('click', () => {
        assistantOrb.classList.remove('active');
        assistantOrb.setAttribute('aria-expanded', 'false');
    });

    function addMessage(content, type) {
        const message = document.createElement('p');
        message.classList.add(type === 'bot' ? 'bot-message' : 'user-message');
        message.textContent = content;
        chatBody.appendChild(message);
        chatBody.scrollTop = chatBody.scrollHeight;
        if (type === 'bot') {
            const announcement = new SpeechSynthesisUtterance(content);
            announcement.lang = document.documentElement.lang;
            window.speechSynthesis.speak(announcement);
        }
    }

    function handleQuery(query) {
        const lowerQuery = query.toLowerCase();
        let response = translations[document.documentElement.lang]['chatbot.prompt'];
        if (lowerQuery.includes('menu')) {
            response = "Our menu features dishes like Grilled Tilapia, Nyama Choma, and Mango Panna Cotta. Explore more at #menu-highlights!";
        } else if (lowerQuery.includes('reservation')) {
            response = "You can book a table at #book-table. For tonight’s availability, check the live reservation section!";
        } else if (lowerQuery.includes('wine')) {
            response = "Our sommelier recommends Sauvignon Blanc for Tilapia and Merlot for Nyama Choma. Want more pairings?";
        }
        addMessage(response, 'bot');
    }

    chatSend.addEventListener('click', () => {
        const query = chatInput.value.trim();
        if (query) {
            addMessage(query, 'user');
            handleQuery(query);
            chatInput.value = '';
        }
    });

    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') chatSend.click();
    });

    // Voice Input (Speechly)
    if (window.Speechly) {
        const speechly = new Speechly({ appId: 'your-speechly-app-id' });
        chatVoice.addEventListener('click', () => {
            speechly.start();
            chatVoice.classList.add('active');
            speechly.onResult((result) => {
                chatInput.value = result.text;
                speechly.stop();
                chatVoice.classList.remove('active');
                chatSend.click();
            });
        });
    } else {
        chatVoice.style.display = 'none';
    }

    // Countdown Timer
    const targetDate = new Date('2025-06-25T20:45:00+03:00').getTime();
    function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDate - now;
        if (distance < 0) {
            document.getElementById('countdown').textContent = 'Reservations closed for tonight!';
            document.getElementById('join-waitlist').disabled = true;
            return;
        }
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.getElementById('countdown').textContent = `${hours}h ${minutes}m ${seconds}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Simulated Reservation Availability API
    async function checkAvailability() {
        try {
            // Simulated API response
            const response = { available: Math.random() > 0.5 ? 'Available' : 'Limited' };
            document.getElementById('availability-status').textContent = `Status: ${response.available}`;
        } catch (error) {
            document.getElementById('availability-status').textContent = 'Error checking availability.';
        }
    }
    checkAvailability();
    document.getElementById('join-waitlist').addEventListener('click', () => {
        document.getElementById('availability-status').textContent = 'Added to waitlist!';
    });

    // Menu Filters
    document.querySelectorAll('.menu-filter').forEach(button => {
        button.addEventListener('click', () => {
            document.querySelector('.menu-filter.active').classList.remove('active');
            button.classList.add('active');
            const filter = button.getAttribute('data-filter');
            document.querySelectorAll('.menu-item').forEach(item => {
                const categories = item.getAttribute('data-category').split(' ');
                item.style.display = filter === 'all' || categories.includes(filter) ? 'block' : 'none';
            });
        });
    });

    // Menu Builder with Three.js
    let scene, camera, renderer, plateModel;
    function initMenuBuilder() {
        const canvas = document.getElementById('plate-canvas');
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, canvas.width / canvas.height, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        renderer.setSize(canvas.width, canvas.height);
        camera.position.z = 5;
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(0, 1, 1);
        scene.add(directionalLight);
        const loader = new GLTFLoader();
        loader.load('/models/plate.glb', (gltf) => {
            plateModel = gltf.scene;
            scene.add(plateModel);
            animatePlate();
        }, undefined, () => {
            console.warn('Failed to load 3D model. Using fallback.');
            const fallbackGeometry = new THREE.SphereGeometry(1, 32, 32);
            const fallbackMaterial = new THREE.MeshStandardMaterial({ color: 0xd4a017 });
            plateModel = new THREE.Mesh(fallbackGeometry, fallbackMaterial);
            scene.add(plateModel);
            animatePlate();
        });
    }

    function animatePlate() {
        if (plateModel) {
            plateModel.rotation.y += 0.01;
        }
        renderer.render(scene, camera);
        requestAnimationFrame(animatePlate);
    }

    document.getElementById('build-meal').addEventListener('click', () => {
        const main = document.getElementById('main-dish').value;
        const side = document.getElementById('side-dish').value;
        const dessert = document.getElementById('dessert').value;
        if (main && side && dessert) {
            alert(`Your meal: ${main}, ${side}, and ${dessert}!`);
        } else {
            alert('Please select all options.');
        }
    });

    initMenuBuilder();

    // AR Preview with Three.js
    document.querySelectorAll('.ar-preview').forEach(button => {
        button.addEventListener('click', () => {
            const dish = button.getAttribute('data-dish');
            const modal = document.getElementById('ar-modal');
            const arContainer = document.getElementById('ar-container');
            modal.classList.add('active');
            const arScene = new THREE.Scene();
            const arCamera = new THREE.PerspectiveCamera(75, arContainer.clientWidth / arContainer.clientHeight, 0.1, 1000);
            const arRenderer = new THREE.WebGLRenderer({ antialias: true });
            arRenderer.setSize(arContainer.clientWidth, arContainer.clientHeight);
            arContainer.appendChild(arRenderer.domElement);
            arCamera.position.z = 5;
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            arScene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(0, 1, 1);
            arScene.add(directionalLight);
            const loader = new GLTFLoader();
            loader.load(`/models/${dish}.glb`, (gltf) => {
                const model = gltf.scene;
                arScene.add(model);
                function animateAR() {
                    model.rotation.y += 0.01;
                    arRenderer.render(arScene, arCamera);
                    requestAnimationFrame(animateAR);
                }
                animateAR();
            }, undefined, () => {
                console.warn('AR model failed to load.');
                const fallbackGeometry = new THREE.BoxGeometry(1, 1, 1);
                const fallbackMaterial = new THREE.MeshStandardMaterial({ color: 0xd4a017 });
                const fallbackModel = new THREE.Mesh(fallbackGeometry, fallbackMaterial);
                arScene.add(fallbackModel);
                function animateAR() {
                    fallbackModel.rotation.y += 0.01;
                    arRenderer.render(arScene, arCamera);
                    requestAnimationFrame(animateAR);
                }
                animateAR();
            });
            document.querySelector('.ar-close').addEventListener('click', () => {
                modal.classList.remove('active');
                arContainer.innerHTML = '';
            });
        });
    });

    // Wine Pairing
    document.querySelectorAll('.wine-pairing').forEach(button => {
        button.addEventListener('click', () => {
            const dish = button.getAttribute('data-dish');
            let pairing = 'No pairing available.';
            if (dish === 'grilled-tilapia') pairing = 'Sauvignon Blanc';
            else if (dish === 'nyama-choma') pairing = 'Merlot';
            else if (dish === 'tropical-dessert') pairing = 'Moscato';
            else if (dish === 'vegetable-stew') pairing = 'Pinot Grigio';
            else if (dish === 'passion-sorbet') pairing = 'Prosecco';
            alert(`Recommended wine for ${dish}: ${pairing}`);
        });
    });

    // Virtual Tour with Pannellum
    pannellum.viewer('panorama', {
        type: 'equirectangular',
        panorama: '/images/dining-panorama.webp',
        autoLoad: true,
        hotSpots: [
            {
                pitch: 10,
                yaw: 20,
                type: 'info',
                text: 'Chef’s Table with Waterfall View',
                cssClass: 'hotspot'
            },
            {
                pitch: -5,
                yaw: -30,
                type: 'info',
                text: 'Open-Air Dining Area',
                cssClass: 'hotspot'
            }
        ]
    });

    // Audio Narration for Virtual Tour
    let isNarrating = false;
    const narrationAudio = new Audio('/audio/dining-narration.mp3');
    document.getElementById('audio-narration').addEventListener('click', () => {
        if (isNarrating) {
            narrationAudio.pause();
            document.getElementById('audio-narration').textContent = translations[document.documentElement.lang]['tour.narration'];
        } else {
            narrationAudio.play().catch(() => console.warn('Narration playback failed.'));
            document.getElementById('audio-narration').textContent = 'Stop Narration';
        }
        isNarrating = !isNarrating;
    });

    // Testimonials Swiper
    const swiper = new Swiper('.swiper', {
        loop: true,
        autoplay: { delay: 5000 },
        pagination: { el: '.swiper-pagination', clickable: true },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev'
        },
        slidesPerView: 1,
        spaceBetween: 20,
        breakpoints: {
            768: { slidesPerView: 2 },
            1200: { slidesPerView: 3 }
        }
    });

    // Loyalty Program
    let loyaltyPoints = parseInt(localStorage.getItem('loyalty-points')) || 0;
    function updateLoyaltyStatus() {
        let tier = 'Bronze';
        let progress = 0;
        if (loyaltyPoints >= 100) {
            tier = 'Gold';
            progress = 100;
        } else if (loyaltyPoints >= 50) {
            tier = 'Silver';
            progress = (loyaltyPoints / 100) * 100;
        } else {
            progress = (loyaltyPoints / 50) * 100;
        }
        document.getElementById('loyalty-points').textContent = loyaltyPoints;
        document.getElementById('loyalty-tier').textContent = tier;
        document.querySelector('.progress-bar-fill').style.width = `${progress}%`;
    }
    updateLoyaltyStatus();

    document.getElementById('redeem-rewards').addEventListener('click', () => {
        if (loyaltyPoints >= 50) {
            loyaltyPoints -= 50;
            localStorage.setItem('loyalty-points', loyaltyPoints);
            updateLoyaltyStatus();
            alert('Reward redeemed! Enjoy a free dessert on your next visit.');
        } else {
            alert('You need at least 50 points to redeem a reward.');
        }
    });

    // Booking Form Validation
    const bookingForm = document.getElementById('booking-form');
    const bookingFeedback = document.getElementById('booking-feedback');
    bookingForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(bookingForm);
        const name = formData.get('name').trim();
        const email = formData.get('email').trim();
        const date = formData.get('date');
        const time = formData.get('time');
        const guests = formData.get('guests');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!name || !email || !date || !time || !guests) {
            bookingFeedback.textContent = 'Please fill out all required fields.';
            bookingFeedback.classList.add('error');
            return;
        }
        if (!emailRegex.test(email)) {
            bookingFeedback.textContent = 'Please enter a valid email address.';
            bookingFeedback.classList.add('error');
            return;
        }
        try {
            // Simulated API call
            bookingFeedback.textContent = 'Reservation confirmed! We’ll send details to your email.';
            bookingFeedback.classList.remove('error');
            bookingFeedback.classList.add('success');
            bookingForm.reset();
            loyaltyPoints += 10; // Award points for booking
            localStorage.setItem('loyalty-points', loyaltyPoints);
            updateLoyaltyStatus();
        } catch (error) {
            bookingFeedback.textContent = 'Error submitting reservation. Please try again.';
            bookingFeedback.classList.add('error');
        }
    });

    // Map with Mapbox
    mapboxgl.accessToken = 'your-mapbox-access-token';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v12',
        center: [34.267, -0.062],
        zoom: 14
    });
    map.addControl(new mapboxgl.NavigationControl());
    new mapboxgl.Marker({ color: '#d4a017' })
        .setLngLat([34.267, -0.062])
        .setPopup(new mapboxgl.Popup().setHTML('<h3>Ambururu Waterfalls</h3><p>Musanda, Siaya, Kenya</p>'))
        .addTo(map);

    // GSAP Animations
    gsap.registerPlugin(ScrollTrigger);
    gsap.from('.hero-overlay h2', {
        opacity: 0,
        y: 50,
        duration: 1.2,
        ease: 'power3.out'
    });
    gsap.from('.hero-overlay p', {
        opacity: 0,
        y: 50,
        duration: 1.2,
        delay: 0.3,
        ease: 'power3.out'
    });
    gsap.from('.hero-ctas', {
        opacity: 0,
        y: 50,
        duration: 1.2,
        delay: 0.6,
        ease: 'power3.out'
    });
    document.querySelectorAll('.timeline-item').forEach((item, index) => {
        gsap.from(item, {
            scrollTrigger: {
                trigger: item,
                start: 'top 80%',
                toggleActions: 'play none none none'
            },
            opacity: 0,
            y: 100,
            duration: 1,
            delay: index * 0.3,
            ease: 'power3.out'
        });
    });
    document.querySelectorAll('.menu-item').forEach((item, index) => {
        gsap.from(item, {
            scrollTrigger: {
                trigger: item,
                start: 'top 85%',
                toggleActions: 'play none none none'
            },
            opacity: 0,
            scale: 0.9,
            duration: 0.8,
            delay: index * 0.2,
            ease: 'back.out(1.7)'
        });
    });

    // Back to Top
    document.getElementById('back-to-top').addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Newsletter Form
    const newsletterForm = document.getElementById('newsletter-form');
    newsletterForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = newsletterForm.querySelector('input[name="email"]').value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            alert('Please enter a valid email address.');
            return;
        }
        try {
            // Simulated API call
            alert('Subscribed successfully!');
            newsletterForm.reset();
        } catch (error) {
            alert('Error subscribing. Please try again.');
        }
    });

    // Error Handling for Media
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('error', () => {
            img.src = 'https://via.placeholder.com/100?text=Image+Not+Found';
        });
    });
    document.querySelectorAll('video').forEach(video => {
        video.addEventListener('error', () => {
            video.poster = '/images/fallback-hero.webp';
        });
    });

    // Accessibility Enhancements
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
                menu.style.display = 'none';
            });
            if (assistantOrb.classList.contains('active')) {
                assistantOrb.click();
            }
            if (document.getElementById('ar-modal').classList.contains('active')) {
                document.querySelector('.ar-close').click();
            }
        }
    });

    // Performance Optimization
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                if (entry.target.tagName === 'IMG' && entry.target.dataset.src) {
                    entry.target.src = entry.target.dataset.src;
                }
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('img[loading="lazy"]').forEach(img => observer.observe(img));
    document.querySelectorAll('section').forEach(section => observer.observe(section));
</script>
</body>
</html>